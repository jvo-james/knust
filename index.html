<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>All‑in‑One Market</title>

  <!-- External Resources -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">

  <!-- Inline CSS -->
  <style>
    :root {
      --clr-primary: #FF9900;
      --clr-secondary: #232F3E;
      --clr-light: #FFFFFF;
      --clr-dark: #111111;
      --clr-muted: #767676;
      --font-sans: 'Helvetica Neue', Arial, sans-serif;
      --transition: 0.3s ease-in-out;
    }
    *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
    html { scroll-behavior: smooth; font-size:16px; }
    body { font-family: var(--font-sans); color: var(--clr-dark); background:#f5f5f5; line-height:1.5; }
    img { display:block; max-width:100%; height:auto; }
    a { color:inherit; text-decoration:none; transition:color var(--transition); }
    a:hover { color: var(--clr-primary); }
    button { font-family:inherit; cursor:pointer; border:none; transition:background-color var(--transition), transform var(--transition); }
    button:focus { outline:none; }
    .container { width:90%; max-width:1200px; margin:0 auto; padding:1rem 0; }

    /* Header */
    header#site-header { position:fixed; top:0; left:0; width:100%; background:#fff; box-shadow:0 2px 5px rgba(0,0,0,0.1); z-index:1000; }
    .top-bar { display:flex; justify-content:space-between; align-items:center; font-size:.875rem; background:var(--clr-secondary); color:#fff; padding:.5rem 0; }
    .top-bar .location span { margin-right:.5rem; }
    .top-bar .account-cart a { margin-left:1rem; color:#fff; position:relative; }
    .main-nav { display:flex; justify-content:space-between; align-items:center; padding:1rem 0; }
    .logo { font-size:1.5rem; font-weight:bold; color:var(--clr-primary); }

    /* Search */
    .search-bar { display:flex; flex:1; max-width:600px; margin:0 2rem; }
    .search-bar select, .search-bar input { padding:.5rem; border:1px solid var(--clr-muted); }
    .search-bar select { border-right:none; border-radius:4px 0 0 4px; }
    .search-bar input { flex:1; border-left:none; }
    .search-bar button { padding:0 .75rem; background:var(--clr-primary); color:#fff; border-radius:0 4px 4px 0; }

    /* Category Nav */
    #category-nav ul { display:flex; gap:1rem; list-style:none; }
    #category-nav li a:hover { background:#ececec; border-radius:4px; padding:.5rem; }

    /* Hero Slider */
    #hero-slider { position:relative; margin-top:140px; overflow:hidden; height:500px; }
    .slide { position:absolute; top:0; left:0; width:100%; height:100%; opacity:0; transition:opacity var(--transition); }
    .slide.active { position:relative; opacity:1; }
    .slide img { width:100%; height:100%; object-fit:cover; }
    .slide-caption { position:absolute; bottom:20%; left:5%; color:#fff; max-width:50%; }
    .slide-caption h2 { font-size:2.5rem; margin-bottom:.5rem; }
    .slide-caption p { font-size:1.125rem; margin-bottom:1rem; }
    .btn-hero { padding:.75rem 1.5rem; background:var(--clr-primary); color:#fff; border-radius:4px; }
    .slider-prev, .slider-next { position:absolute; top:50%; transform:translateY(-50%); background:rgba(0,0,0,.5); color:#fff; padding:.5rem; font-size:1.5rem; border-radius:50%; }
    .slider-prev { left:1rem; } .slider-next { right:1rem; }

    /* Category Highlights */
    #category-highlights { background:#fff; padding:4rem 0; }
    #category-highlights h2 { font-size:2rem; margin-bottom:1rem; color:var(--clr-secondary); }
    .categories-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:1rem; }
    .category-card { position:relative; overflow:hidden; border-radius:8px; transition:transform var(--transition); }
    .category-card:hover { transform:scale(1.05); }
    .category-card h3 { position:absolute; bottom:1rem; left:1rem; background:rgba(0,0,0,.5); color:#fff; padding:.5rem 1rem; border-radius:4px; }

    /* Featured Products */
    #featured-products { background: linear-gradient(135deg,#fdfbfb 0%,#ebedee 100%); padding:4rem 0; }
    #featured-products h2 { font-size:2rem; margin-bottom:1.5rem; color:var(--clr-secondary); }
    .products-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:1.5rem; }
    .product-card { background:#fff; border-radius:8px; overflow:hidden; box-shadow:0 2px 8px rgba(0,0,0,0.1); transition:transform var(--transition), box-shadow var(--transition); position:relative; }
    .product-card:hover { transform:translateY(-5px); box-shadow:0 4px 12px rgba(0,0,0,0.15); }
    .product-card img { width:100%; height:200px; object-fit:cover; }
    .product-card h3 { font-size:1rem; margin:.75rem; height:2.5rem; overflow:hidden; }
    .product-price { font-size:1.125rem; font-weight:bold; margin:0 .75rem .5rem; color:var(--clr-primary); }
    .product-rating { font-size:.875rem; color:var(--clr-muted); margin:0 .75rem 1rem; }
    .btn-load-more { display:block; margin:2rem auto 0; padding:.75rem 2rem; background:var(--clr-secondary); color:#fff; border-radius:4px; }

    /* Search Results & Pagination */
    #search-results { padding:4rem 0; }
    #pagination { display:flex; justify-content:center; align-items:center; gap:.5rem; padding-bottom:4rem; }

    /* Cart Preview */
    #cart-preview { position:fixed; top:0; right:-400px; width:350px; height:100%; background:#fff; box-shadow:-3px 0 8px rgba(0,0,0,0.1); padding:2rem 1rem; transition:right var(--transition); overflow-y:auto; z-index:1001; }
    #cart-preview.open { right:0; }

    /* Product Detail */
    #product-detail { padding:4rem 0; display:none; }
    .detail-layout { display:grid; grid-template-columns:1fr 1fr; gap:2rem; }
    #detail-main-image { width:100%; border-radius:8px; margin-bottom:1rem; }

    /* Footer */
    #site-footer { background:var(--clr-secondary); color:#fff; padding:3rem 0 1rem; }
    .footer-links { display:flex; justify-content:space-between; flex-wrap:wrap; gap:1.5rem; }
    .footer-links h4 { margin-bottom:.5rem; }
    .footer-bottom { text-align:center; margin-top:2rem; font-size:.875rem; }

    /* Responsive */
    @media (max-width:992px) { .search-bar { display:none; } .detail-layout { grid-template-columns:1fr; } }
    @media (max-width:768px) { #hero-slider { height:300px; } .slide-caption h2 { font-size:2rem; } }
  </style>
</head>
<body>

  <!-- HEADER & NAVIGATION -->
  <header id="site-header">
    <div class="top-bar container">
      <div class="location">
        <i class="fas fa-map-marker-alt"></i>
        <span>Delivering to:</span>
        <a href="#" id="change-location">Current Location</a>
      </div>
      <div class="account-cart">
        <a href="#" id="account-link"><i class="fas fa-user"></i> Hello, Sign in</a>
        <a href="#" id="orders-link"><i class="fas fa-box"></i> Orders</a>
        <a href="#" id="cart-link"><i class="fas fa-shopping-cart"></i> Cart (<span id="cart-count">0</span>)</a>
      </div>
    </div>
    <div class="main-nav container">
      <a href="#" class="logo"><i class="fas fa-store-alt"></i> MyMarketplace</a>
      <div class="search-bar">
        <select id="search-category">
          <option value="all">All</option>
          <option>Books</option>
          <option>Electronics</option>
          <option>Fashion</option>
          <option>Home & Kitchen</option>
          <option>Beauty</option>
          <option>Services</option>
        </select>
        <input type="text" id="search-input" placeholder="Search everything…">
        <button id="search-btn"><i class="fas fa-search"></i></button>
      </div>
      <nav id="category-nav">
        <ul>
          <li><a href="#"><i class="fas fa-book"></i> Books</a></li>
          <li><a href="#"><i class="fas fa-tv"></i> Electronics</a></li>
          <li><a href="#"><i class="fas fa-tshirt"></i> Fashion</a></li>
          <li><a href="#"><i class="fas fa-blender"></i> Home & Kitchen</a></li>
          <li><a href="#"><i class="fas fa-heart"></i> Beauty</a></li>
          <li><a href="#"><i class="fas fa-concierge-bell"></i> Services</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- HERO SLIDER -->
  <section id="hero-slider">
    <button class="slider-prev"><i class="fas fa-chevron-left"></i></button>
    <div class="slides">
      <div class="slide active">
        <img id="slide-img-1" src="medical.jpg" alt="Fast, free shipping">
        <div class="slide-caption">
          <h2><i class="fas fa-shipping-fast"></i> Fast, Free Shipping</h2>
          <p>Unlimited access to deals & more</p>
          <button class="btn-hero"><i class="fas fa-gem"></i> Join Premium</button>
        </div>
      </div>
      <div class="slide">
        <img id="slide-img-2" src="science.jpg" alt="Latest Gadgets">
        <div class="slide-caption">
          <h2><i class="fas fa-microchip"></i> Latest Gadgets</h2>
          <p>Discover the newest in tech</p>
          <button class="btn-hero"><i class="fas fa-shopping-bag"></i> Shop Now</button>
        </div>
      </div>
      <div class="slide">
        <img id="slide-img-3" src="shuttle.jpg" alt="Sizzling Summer Fashion">
        <div class="slide-caption">
          <h2><i class="fas fa-sun"></i> Sizzling Summer Fashion</h2>
          <p>Trends for him & her</p>
          <button class="btn-hero"><i class="fas fa-tshirt"></i> Explore</button>
        </div>
      </div>
    </div>
    <button class="slider-next"><i class="fas fa-chevron-right"></i></button>
  </section>

  <!-- CATEGORY HIGHLIGHTS -->
  <section id="category-highlights" class="container">
    <h2><i class="fas fa-th-large"></i> Shop by Category</h2>
    <div class="categories-grid">
      <article class="category-card" data-category="books">
        <img src="https://source.unsplash.com/400x300/?book" alt="Books">
        <h3><i class="fas fa-book-open"></i> Books</h3>
      </article>
      <article class="category-card" data-category="electronics">
        <img src="https://source.unsplash.com/400x300/?laptop" alt="Electronics">
        <h3><i class="fas fa-tv"></i> Electronics</h3>
      </article>
      <article class="category-card" data-category="fashion">
        <img src="https://source.unsplash.com/400x300/?fashion" alt="Fashion">
        <h3><i class="fas fa-tshirt"></i> Fashion</h3>
      </article>
      <article class="category-card" data-category="home">
        <img src="https://source.unsplash.com/400x300/?kitchen" alt="Home & Kitchen">
        <h3><i class="fas fa-blender"></i> Home & Kitchen</h3>
      </article>
      <article class="category-card" data-category="beauty">
        <img src="https://source.unsplash.com/400x300/?makeup" alt="Beauty">
        <h3><i class="fas fa-heart"></i> Beauty</h3>
      </article>
      <article class="category-card" data-category="services">
        <img src="https://source.unsplash.com/400x300/?consulting" alt="Services">
        <h3><i class="fas fa-concierge-bell"></i> Services</h3>
      </article>
    </div>
  </section>

  <!-- FEATURED PRODUCTS -->
  <section id="featured-products" class="container">
    <h2><i class="fas fa-bolt"></i> Featured Deals</h2>
    <div class="products-grid"></div>
    <button class="btn-load-more"><i class="fas fa-redo"></i> See More Deals</button>
  </section>

  <!-- SEARCH RESULTS -->
  <main id="search-results" class="container"></main>
  <nav id="pagination" class="container"></nav>

  <!-- CART PREVIEW SIDEBAR -->
  <aside id="cart-preview">
    <h2><i class="fas fa-shopping-cart"></i> Your Cart</h2>
    <div class="cart-items"></div>
    <div class="cart-summary">
      <p>Subtotal: ₵<span id="cart-subtotal">0.00</span></p>
      <button class="btn-checkout"><i class="fas fa-credit-card"></i> Proceed to Checkout</button>
    </div>
  </aside>

  <!-- PRODUCT DETAIL -->
  <section id="product-detail" class="container">
    <button id="detail-back" class="btn"><i class="fas fa-arrow-left"></i> Back to results</button>
    <div class="detail-layout">
      <div class="detail-gallery">
        <img id="detail-main-image" src="" alt="Detail">
        <div id="detail-thumbnails" class="thumbnails"></div>
      </div>
      <div class="detail-info">
        <h1 id="detail-title"></h1>
        <p>By <a href="#" id="detail-seller"><i class="fas fa-store"></i> Seller Name</a></p>
        <div id="detail-rating"></div>
        <p class="detail-price">₵<span id="detail-price"></span></p>
        <p><strong><i class="fas fa-boxes"></i> Availability:</strong> <span id="detail-stock"></span></p>
        <p><strong><i class="fas fa-truck"></i> Shipping:</strong> <span id="detail-shipping"></span></p>
        <ul id="detail-features" class="features-list"></ul>
        <button id="detail-add-cart" class="btn"><i class="fas fa-cart-plus"></i> Add to Cart</button>
      </div>
    </div>
    <div class="detail-extra">
      <section class="description">
        <h2><i class="fas fa-info-circle"></i> Description</h2>
        <p id="detail-description"></p>
      </section>
      <section class="reviews">
        <h2><i class="fas fa-comments"></i> Customer Reviews</h2>
        <div id="detail-reviews-list"></div>
      </section>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="site-footer">
    <div class="footer-links container">
      <div>
        <h4><i class="fas fa-info"></i> Get to Know Us</h4>
        <a href="#">About</a><a href="#">Careers</a>
      </div>
      <div>
        <h4><i class="fas fa-hand-holding-usd"></i> Make Money with Us</h4>
        <a href="#">Sell on Marketplace</a><a href="#">Advertise</a>
      </div>
      <div>
        <h4><i class="fas fa-life-ring"></i> Let Us Help You</h4>
        <a href="#">Your Account</a><a href="#">Returns Center</a>
      </div>
    </div>
    <div class="footer-bottom container"><p>© 2025 MyMarketplace. All rights reserved.</p></div>
  </footer>

  <!-- Inline JS -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // State
      const products = [];
      const categories = ['Books','Electronics','Fashion','Home & Kitchen','Beauty','Services'];
      const cart = [];

      // Generate Products
      for (let i = 1; i <= 2000; i++) {
        const cat = categories[i % categories.length];
        const title = `${cat} Item ${i}`;
        const price = (Math.random() * 300 + 10).toFixed(2);
        const rating = Math.floor(Math.random() * 5) + 1;
        const reviewCount = Math.floor(Math.random() * 200);
        const gallery = Array.from({ length: 4}, (_, k) =>
          `https://source.unsplash.com/400x400/?${cat.toLowerCase()}&sig=${i*10+k}`
        );
        const reviews = Array.from({ length: Math.floor(Math.random()*5)}, (_, r)=>({
          author:`User${r+1}`,
          date: new Date(2025,7,Math.ceil(Math.random()*28)).toDateString(),
          rating: Math.floor(Math.random()*5)+1,
          text:`Review ${r+1}`
        }));
        products.push({ id:i, title: title, category:cat, price, rating, reviewCount, gallery, reviews,
                        stock: Math.floor(Math.random()*50)+1,
                        shipping: `${1+Math.floor(Math.random()*3)}–${3+Math.floor(Math.random()*3)} days`});
      }

      // DOM refs
      const slideEls     = document.querySelectorAll('#hero-slider .slide');
      const prevBtn      = document.querySelector('.slider-prev');
      const nextBtn      = document.querySelector('.slider-next');
      const featuredGrid = document.querySelector('#featured-products .products-grid');
      const loadMoreBtn  = document.querySelector('.btn-load-more');
      const searchInput  = document.getElementById('search-input');
      const searchBtn    = document.getElementById('search-btn');
      const searchCat    = document.getElementById('search-category');
      const resultsMain  = document.getElementById('search-results');
      const paginationEl = document.getElementById('pagination');
      const cartCountEl  = document.getElementById('cart-count');
      const cartPreview  = document.querySelector('#cart-preview .cart-items');
      const cartSubtotal = document.getElementById('cart-subtotal');
      const cartCheckout = document.querySelector('.btn-checkout');
      const detailSec    = document.getElementById('product-detail');
      const backBtn      = document.getElementById('detail-back');
      const catLinks     = document.querySelectorAll('#category-nav a');

      // Hero Slider
      let currentSlide = 0;
      function showSlide(i) {
        slideEls[currentSlide].classList.remove('active');
        currentSlide = (i + slideEls.length) % slideEls.length;
        slideEls[currentSlide].classList.add('active');
      }
      prevBtn.onclick = ()=> showSlide(currentSlide-1);
      nextBtn.onclick = ()=> showSlide(currentSlide+1);
      setInterval(()=> showSlide(currentSlide+1), 5000);

      // Featured
      let featuredPage = 0, FEATURED_PER_PAGE = 8;
      function renderFeatured() {
        const start = featuredPage*FEATURED_PER_PAGE;
        products.slice(start, start+FEATURED_PER_PAGE).forEach(p=>{
          const art = document.createElement('article');
          art.className = 'product-card';
          art.dataset.id = p.id;
          art.innerHTML = `
            <img src="${p.gallery[0]}" alt="${p.title}">
            <h3><a href="#">${p.title}</a></h3>
            <p class="product-price">₵${p.price}</p>
            <p class="product-rating">${'★'.repeat(p.rating)}${'☆'.repeat(5-p.rating)} (${p.reviewCount})</p>
          `;
          featuredGrid.appendChild(art);
        });
      }
      loadMoreBtn.onclick = ()=>{ featuredPage++; renderFeatured(); };

      // Search & Pagination
      const RESULTS_PER_PAGE = 12;
      let currentResults = [], currentPage = 1;
      function renderResults(list, page) {
        currentResults = list; currentPage = page; resultsMain.innerHTML='';
        const start = (page-1)*RESULTS_PER_PAGE;
        list.slice(start, start+RESULTS_PER_PAGE).forEach(p=>{
          const art = document.createElement('article');
          art.className = 'product-card'; art.dataset.id = p.id;
          art.innerHTML = `
            <img src="${p.gallery[0]}" alt="${p.title}">
            <h3><a href="#">${p.title}</a></h3>
            <p class="product-price">₵${p.price}</p>
            <p class="product-rating">${'★'.repeat(p.rating)}${'☆'.repeat(5-p.rating)} (${p.reviewCount})</p>
          `;
          resultsMain.appendChild(art);
        });
        renderPagination(list.length, page);
      }
      function renderPagination(total, page) {
        paginationEl.innerHTML='';
        const pages = Math.ceil(total/RESULTS_PER_PAGE);
        const btnPrev = document.createElement('button');
        btnPrev.className='page-btn'; btnPrev.textContent='« Prev'; btnPrev.disabled = page===1;
        btnPrev.onclick = ()=> renderResults(currentResults, page-1);
        paginationEl.appendChild(btnPrev);
        for(let i=1;i<=pages;i++){
          const btn = document.createElement('button');
          btn.className='page-btn'+(i===page?' active':''); btn.textContent=i;
          btn.onclick = ()=> renderResults(currentResults, i);
          paginationEl.appendChild(btn);
        }
        const btnNext = document.createElement('button');
        btnNext.className='page-btn'; btnNext.textContent='Next »'; btnNext.disabled=page===pages;
        btnNext.onclick = ()=> renderResults(currentResults, page+1);
        paginationEl.appendChild(btnNext);
      }
      searchBtn.onclick = ()=>{
        const term = searchInput.value.toLowerCase(), cat = searchCat.value;
        const filtered = products.filter(p=>
          (cat==='all'||p.category===cat)&&p.title.toLowerCase().includes(term)
        );
        renderResults(filtered,1);
      };

      // Category Nav
      catLinks.forEach(link=>{
        link.onclick = e=>{
          e.preventDefault();
          const txt = link.textContent.trim().replace(/^\S+\s*/, '');
          renderResults(products.filter(p=>p.category===txt),1);
        };
      });

      // Cart UI
      function updateCart() {
        cartCountEl.textContent = cart.length;
        cartPreview.innerHTML = '';
        let subtotal = 0;
        cart.forEach((p,i)=>{
          subtotal += parseFloat(p.price);
          const d = document.createElement('div');
          d.className='cart-item';
          d.innerHTML = `
            <img src="${p.gallery[0]}" alt="${p.title}">
            <div class="item-info">
              <p class="item-title">${p.title}</p>
              <p class="item-qty">Qty: 1</p>
              <p class="item-price">₵${p.price}</p>
            </div>
            <button class="remove-item" data-idx="${i}">×</button>
          `;
          cartPreview.appendChild(d);
        });
        cartSubtotal.textContent = subtotal.toFixed(2);
      }
      document.body.addEventListener('click', e=>{
        if(e.target.matches('.add-to-cart')){
          const id = +e.target.closest('.product-card').dataset.id;
          cart.push(products.find(x=>x.id===id));
          updateCart();
        }
        if(e.target.matches('.remove-item')){
          cart.splice(+e.target.dataset.idx,1);
          updateCart();
        }
      });
      cartCheckout.onclick = ()=>{
        alert(`Checked out ${cart.length} items. Thank you!`);
        cart.length = 0; updateCart();
      };

      // Product Detail
      function showDetail(id) {
        const p = products.find(x=>x.id===id);
        if(!p) return;
        resultsMain.classList.add('hidden');
        detailSec.style.display='block';
        document.getElementById('detail-main-image').src = p.gallery[0];
        const thumbs = document.getElementById('detail-thumbnails'); thumbs.innerHTML='';
        p.gallery.forEach(src=>{
          const img = document.createElement('img');
          img.src = src; img.className='thumb';
          img.onclick = ()=> document.getElementById('detail-main-image').src = src;
          thumbs.appendChild(img);
        });
        document.getElementById('detail-title').textContent = p.title;
        document.getElementById('detail-rating').innerHTML =
          `${'★'.repeat(p.rating)}${'☆'.repeat(5-p.rating)} <span>(${p.reviewCount})</span>`;
        document.getElementById('detail-price').textContent = p.price;
        document.getElementById('detail-stock').textContent = p.stock;
        document.getElementById('detail-shipping').textContent = p.shipping;
        const feats = document.getElementById('detail-features'); feats.innerHTML='';
        ['High quality','Best seller','Limited stock'].forEach(f=>{
          const li = document.createElement('li'); li.textContent=f; feats.appendChild(li);
        });
        document.getElementById('detail-description').textContent = 'Full product description…';
        const revList = document.getElementById('detail-reviews-list'); revList.innerHTML='';
        p.reviews.forEach(r=>{
          const art = document.createElement('article');
          art.innerHTML = `<strong>${r.author}</strong> (${r.date})<br/>${'★'.repeat(r.rating)}<p>${r.text}</p>`;
          revList.appendChild(art);
        });
      }
      backBtn.onclick = ()=>{
        detailSec.style.display='none';
        resultsMain.classList.remove('hidden');
      };
      document.body.addEventListener('click', e=>{
        const card = e.target.closest('.product-card');
        if(card) showDetail(+card.dataset.id);
      });

      // Initialize
      renderFeatured();
      updateCart();
    });
  </script>

</body>
</html>
