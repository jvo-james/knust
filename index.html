<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>All‑in‑One Market</title>
  <link rel="stylesheet" href="style.css" />

  <style>
/* ==============================
   Variables & Global Resets
   ============================== */
:root {
  --primary-color: #1a202c;
  --secondary-color: #2d3748;
  --accent-color: #ed64a6;
  --highlight-color: #f6ad55;
  --light-bg: #ffffff;
  --dark-bg: #edf2f7;
  --light-text: #ffffff;
  --dark-text: #2d3748;
  --muted-text: #718096;
  --border-radius: 8px;
  --transition-speed: 0.3s;
  --max-width: 1300px;
  --box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

*,
*::before,
*::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Inter', sans-serif;
  color: var(--dark-text);
  background: var(--dark-bg);
  line-height: 1.6;
  overflow-x: hidden;
}

/* ==============================
   Utility Classes
   ============================== */
.hidden { display: none !important; }
.container {
  width: 90%;
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 1rem 0;
}
.btn {
  display: inline-block;
  background: var(--accent-color);
  color: var(--light-text);
  padding: 0.6rem 1.2rem;
  border: none;
  border-radius: var(--border-radius);
  cursor: pointer;
  font-weight: 600;
  transition: background var(--transition-speed), transform var(--transition-speed);
  text-decoration: none;
}
.btn:hover {
  background: var(--highlight-color);
  transform: translateY(-2px);
}
.btn:active {
  transform: translateY(0);
}

/* ==============================
   HEADER (Fixed)
   ============================== */
#site-header {
  position: fixed;
  top: 0; left: 0; right: 0;
  background: var(--primary-color);
  z-index: 1000;
  box-shadow: var(--box-shadow);
}
#site-header .top-bar {
  display: flex;
  justify-content: space-between;
  font-size: 0.9rem;
  color: var(--light-text);
  padding: 0.5rem 0;
}
#site-header .top-bar a {
  color: var(--light-text);
  margin-left: 1rem;
  text-decoration: none;
}
#site-header .main-nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 0;
}
#site-header .logo {
  font-size: 1.8rem;
  font-weight: bold;
  color: var(--light-text);
  text-decoration: none;
}
#site-header .search-bar {
  display: flex;
  flex: 1;
  margin: 0 2rem;
}
#site-header select,
#site-header input {
  padding: 0.6rem;
  border: none;
  border-radius: var(--border-radius) 0 0 var(--border-radius);
  font-size: 1rem;
}
#site-header input {
  flex: 1;
}
#site-header .search-bar button {
  border-radius: 0 var(--border-radius) var(--border-radius) 0;
}
#category-nav ul {
  display: flex;
  list-style: none;
  gap: 1rem;
}
#category-nav ul li a {
  color: var(--light-text);
  text-decoration: none;
  padding: 0.4rem 0.6rem;
  transition: background var(--transition-speed);
}
#category-nav ul li a:hover {
  background: rgba(255,255,255,0.1);
  border-radius: var(--border-radius);
}

/* ==============================
   HERO SLIDER
   ============================== */
#hero-slider {
  position: relative;
  margin-top: 120px;
  overflow: hidden;
  height: 500px;
}
#hero-slider .slides {
  display: flex;
  transition: transform 0.8s ease;
}
#hero-slider .slide {
  min-width: 100%;
  position: relative;
  opacity: 0;
  transition: opacity var(--transition-speed);
}
#hero-slider .slide.active {
  opacity: 1;
}
#hero-slider .slide img {
  width: 100%;
  height: 500px;
  object-fit: cover;
}
#hero-slider .slide-caption {
  position: absolute;
  bottom: 20%;
  left: 10%;
  background: rgba(0,0,0,0.4);
  padding: 1.5rem;
  border-radius: var(--border-radius);
  color: var(--light-text);
}
#hero-slider .slide-caption h2 {
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
}
#hero-slider .slide-caption p {
  font-size: 1.2rem;
  margin-bottom: 1rem;
}
.slider-prev,
.slider-next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.5);
  color: var(--light-text);
  border: none;
  padding: 0.5rem 1rem;
  cursor: pointer;
  border-radius: var(--border-radius);
  font-size: 1.5rem;
}
.slider-prev { left: 1rem; }
.slider-next { right: 1rem; }

/* ==============================
   CATEGORY HIGHLIGHTS
   ============================== */
#category-highlights {
  padding: 3rem 0;
  background: var(--light-bg);
}
#category-highlights h2 {
  text-align: center;
  font-size: 2rem;
  margin-bottom: 1.5rem;
  color: var(--primary-color);
}
.categories-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px,1fr));
  gap: 1.5rem;
}
.category-card {
  background: var(--dark-bg);
  border-radius: var(--border-radius);
  overflow: hidden;
  box-shadow: var(--box-shadow);
  transition: transform var(--transition-speed);
}
.category-card:hover {
  transform: translateY(-5px);
}
.category-card img {
  width: 100%;
  height: 150px;
  object-fit: cover;
}
.category-card h3 {
  text-align: center;
  padding: 1rem 0;
}
.category-card h3 a {
  color: var(--primary-color);
  text-decoration: none;
  font-weight: 600;
}

/* ==============================
   FEATURED PRODUCTS
   ============================== */
#featured-products {
  padding: 3rem 0;
}
#featured-products h2 {
  font-size: 2rem;
  margin-bottom: 1.5rem;
  color: var(--primary-color);
}
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px,1fr));
  gap: 1.5rem;
}
.product-card {
  background: var(--light-bg);
  border-radius: var(--border-radius);
  overflow: hidden;
  box-shadow: var(--box-shadow);
  transition: transform var(--transition-speed), box-shadow var(--transition-speed);
  cursor: pointer;
}
.product-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}
.product-card img {
  width: 100%;
  height: 200px;
  object-fit: cover;
}
.product-card h3 {
  font-size: 1.1rem;
  margin: 0.8rem;
  color: var(--primary-color);
}
.product-card .product-price {
  margin: 0 0.8rem;
  font-weight: bold;
  color: var(--accent-color);
}
.product-card .product-rating {
  margin: 0 0.8rem 1rem;
  color: var(--highlight-color);
}

/* ==============================
   LOAD MORE BUTTON
   ============================== */
.btn-load-more {
  display: block;
  margin: 2rem auto;
  background: var(--primary-color);
}
.btn-load-more:hover { background: var(--secondary-color); }

/* ==============================
   SEARCH RESULTS & PAGINATION
   ============================== */
#search-results {
  padding: 3rem 0;
}
#search-results .product-card { /* reuse above */ }
#pagination {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  margin-bottom: 3rem;
}
.page-btn {
  background: var(--light-bg);
  border: 1px solid #ccc;
  padding: 0.5rem 0.8rem;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: background var(--transition-speed);
}
.page-btn.active,
.page-btn:hover {
  background: var(--accent-color);
  color: var(--light-text);
  border-color: var(--accent-color);
}

/* ==============================
   CART PREVIEW SIDEBAR
   ============================== */
#cart-preview {
  position: fixed;
  top: 120px;
  right: 0;
  width: 300px;
  background: var(--light-bg);
  border-left: 1px solid #e2e8f0;
  height: calc(100vh - 120px);
  overflow-y: auto;
  box-shadow: var(--box-shadow);
  padding: 1rem;
  z-index: 900;
}
#cart-preview h2 {
  font-size: 1.5rem;
  margin-bottom: 1rem;
  color: var(--primary-color);
}
.cart-item {
  display: flex;
  align-items: center;
  margin-bottom: 1rem;
}
.cart-item img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: var(--border-radius);
  margin-right: 0.75rem;
}
.cart-item .item-info {
  flex: 1;
}
.cart-item .remove-item {
  background: transparent;
  color: var(--muted-text);
  font-size: 1.2rem;
  border: none;
  cursor: pointer;
}
.cart-summary {
  margin-top: 2rem;
  text-align: center;
}
.btn-checkout {
  width: 100%;
  background: var(--primary-color);
}
.btn-checkout:hover {
  background: var(--secondary-color);
}

/* ==============================
   PRODUCT DETAIL VIEW
   ============================== */
#product-detail {
  padding: 3rem 0;
  background: var(--light-bg);
}
#detail-back {
  margin-bottom: 1.5rem;
  background: none;
  color: var(--muted-text);
}
#detail-back:hover {
  color: var(--primary-color);
}
.detail-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
}
.detail-gallery {
  position: relative;
}
.detail-gallery .main-img {
  width: 100%;
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
}
.thumbnails {
  display: flex;
  gap: 0.5rem;
  margin-top: 1rem;
}
.thumbnails img {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: var(--border-radius);
  cursor: pointer;
  transition: transform var(--transition-speed);
}
.thumbnails img:hover {
  transform: scale(1.1);
}
.detail-info h1 {
  font-size: 2rem;
  color: var(--primary-color);
  margin-bottom: 0.5rem;
}
.detail-info p {
  margin: 0.5rem 0;
}
.detail-info #detail-price {
  font-size: 1.8rem;
  color: var(--accent-color);
  font-weight: bold;
}
.features-list {
  list-style: disc inside;
  margin: 1rem 0;
}
.features-list li {
  margin-bottom: 0.5rem;
}

/* ==============================
   DESCRIPTION & REVIEWS
   ============================== */
.detail-extra {
  margin-top: 3rem;
}
.description h2,
.reviews h2 {
  font-size: 1.5rem;
  color: var(--primary-color);
  margin-bottom: 1rem;
}
#detail-description {
  line-height: 1.8;
}
.review-item {
  border-bottom: 1px solid #e2e8f0;
  padding: 1rem 0;
}
.review-item p:first-child {
  font-weight: 600;
}
.review-item p:nth-child(2) {
  color: var(--highlight-color);
  margin: 0.5rem 0;
}

/* ==============================
   FOOTER
   ============================== */
#site-footer {
  background: var(--secondary-color);
  color: var(--light-text);
  padding: 2rem 0;
  margin-top: 3rem;
}
#site-footer .footer-links {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
}
#site-footer .footer-links div {
  margin-bottom: 1rem;
}
#site-footer .footer-links h4 {
  margin-bottom: 0.5rem;
}
#site-footer .footer-links a {
  display: block;
  color: var(--light-text);
  text-decoration: none;
  margin-bottom: 0.3rem;
}
#site-footer .footer-bottom {
  text-align: center;
  margin-top: 1rem;
}

/* ==============================
   Media Queries
   ============================== */
@media (max-width: 1024px) {
  .detail-layout { grid-template-columns: 1fr; }
  #hero-slider { height: 400px; }
  #hero-slider .slide img { height: 400px; }
  #site-header .main-nav { flex-direction: column; gap: 1rem; }
}
@media (max-width: 768px) {
  #category-nav ul { display: none; }
  .container { width: 95%; }
  #cart-preview { display: none; }
  #hero-slider { height: 300px; }
  #hero-slider .slide img { height: 300px; }
}
@media (max-width: 480px) {
  .btn { padding: 0.5rem 1rem; }
  #hero-slider { height: 200px; }
  #hero-slider .slide-caption h2 { font-size: 1.5rem; }
  #hero-slider .slide-caption p { font-size: 1rem; }
  #site-header .search-bar { flex-direction: column; }
}

                                                                                                                                                                                           -->
</style>

</head>
<body>
  <!-- HEADER & NAVIGATION -->
  <header id="site-header">
    <div class="top-bar container">
      <div class="location">
        <span>Delivering to:</span>
        <a href="#" id="change-location">Current Location</a>
      </div>
      <div class="account-cart">
        <a href="#" id="account-link">Hello, Sign in</a>
        <a href="#" id="orders-link">Orders</a>
        <a href="#" id="cart-link">
          Cart (<span id="cart-count">57</span>)
        </a>
      </div>
    </div>
    <div class="main-nav container">
      <a href="#" class="logo">MyMarketplace</a>
      <div class="search-bar">
        <select id="search-category">
          <option value="all">All</option>
          <option value="books">Books</option>
          <option value="electronics">Electronics</option>
          <option value="fashion">Fashion</option>
          <option value="services">Services</option>
        </select>
        <input type="text" id="search-input" placeholder="Search everything…" />
        <button id="search-btn">Search</button>
      </div>
      <nav id="category-nav">
        <ul>
          <li><a href="#">Books</a></li>
          <li><a href="#">Electronics</a></li>
          <li><a href="#">Fashion</a></li>
          <li><a href="#">Home & Kitchen</a></li>
          <li><a href="#">Beauty</a></li>
          <li><a href="#">Services</a></li>
          <li><a href="#">More ▾</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- HERO SLIDER -->
  <section id="hero-slider">
    <button class="slider-prev">&larr;</button>
    <div class="slides">
      <div class="slide active">
        <img src="https://source.unsplash.com/1600x500/?shopping,store" alt="Fast, free shipping">
        <div class="slide-caption">
          <h2>Fast, Free Shipping</h2>
          <p>Unlimited access to deals & more</p>
          <button class="btn-hero">Join Premium</button>
        </div>
      </div>
      <div class="slide">
        <img src="https://source.unsplash.com/1600x500/?electronics,gadgets" alt="Latest Gadgets">
        <div class="slide-caption">
          <h2>Latest Gadgets</h2>
          <p>Discover the newest in tech</p>
          <button class="btn-hero">Shop Now</button>
        </div>
      </div>
      <div class="slide">
        <img src="https://source.unsplash.com/1600x500/?fashion,clothes" alt="Summer Fashion">
        <div class="slide-caption">
          <h2>Sizzling Summer Fashion</h2>
          <p>Trends for him & her</p>
          <button class="btn-hero">Explore</button>
        </div>
      </div>
    </div>
    <button class="slider-next">&rarr;</button>
  </section>

  <!-- CATEGORY HIGHLIGHTS -->
  <section id="category-highlights" class="container">
    <h2>Shop by Category</h2>
    <div class="categories-grid">
      <article class="category-card">
        <img src="https://source.unsplash.com/400x300/?books,library" alt="Books">
        <h3><a href="#">Books</a></h3>
      </article>
      <article class="category-card">
        <img src="https://source.unsplash.com/400x300/?electronics,device" alt="Electronics">
        <h3><a href="#">Electronics</a></h3>
      </article>
      <article class="category-card">
        <img src="https://source.unsplash.com/400x300/?fashion,clothing" alt="Fashion">
        <h3><a href="#">Fashion</a></h3>
      </article>
      <article class="category-card">
        <img src="https://source.unsplash.com/400x300/?home,decor" alt="Home & Kitchen">
        <h3><a href="#">Home & Kitchen</a></h3>
      </article>
      <article class="category-card">
        <img src="https://source.unsplash.com/400x300/?beauty,makeup" alt="Beauty">
        <h3><a href="#">Beauty</a></h3>
      </article>
      <article class="category-card">
        <img src="https://source.unsplash.com/400x300/?services,consulting" alt="Services">
        <h3><a href="#">Services</a></h3>
      </article>
    </div>
  </section>

  <!-- FEATURED PRODUCTS -->
  <section id="featured-products" class="container">
    <h2>Featured Deals</h2>
    <div class="products-grid">
      <!-- repeat dynamically -->
      <article class="product-card" data-id="101">
        <img src="https://source.unsplash.com/400x400/?backpack" alt="Travel Backpack">
        <h3><a href="#">Travel Backpack</a></h3>
        <p class="product-price">₵120.00</p>
        <p class="product-rating">★★★★☆ (34)</p>
      </article>
      <article class="product-card" data-id="102">
        <img src="https://source.unsplash.com/400x400/?headphones" alt="Wireless Headphones">
        <h3><a href="#">Wireless Headphones</a></h3>
        <p class="product-price">₵250.00</p>
        <p class="product-rating">★★★★★ (128)</p>
      </article>
      <article class="product-card" data-id="103">
        <img src="https://source.unsplash.com/400x400/?jacket,denim" alt="Denim Jacket">
        <h3><a href="#">Denim Jacket</a></h3>
        <p class="product-price">₵180.00</p>
        <p class="product-rating">★★★☆☆ (12)</p>
      </article>
      <article class="product-card" data-id="104">
        <img src="https://source.unsplash.com/400x400/?book,reading" alt="Programming Book">
        <h3><a href="#">Learn JavaScript</a></h3>
        <p class="product-price">₵45.00</p>
        <p class="product-rating">★★★★☆ (87)</p>
      </article>
      <!-- … more featured … -->
    </div>
    <button class="btn-load-more">See More Deals</button>
  </section>

  <!-- MAIN SEARCH RESULTS AREA (initially empty) -->
  <main id="search-results" class="container">
    <!-- dynamically injected product cards from 2000-item catalog -->
  </main>

  <!-- PAGINATION -->
  <nav id="pagination" class="container">
    <button class="page-btn">« Prev</button>
    <button class="page-btn active">1</button>
    <button class="page-btn">2</button>
    <button class="page-btn">3</button>
    <span>…</span>
    <button class="page-btn">Next »</button>
  </nav>

  <!-- CART PREVIEW SIDEBAR -->
  <aside id="cart-preview">
    <h2>Your Cart</h2>
    <div class="cart-items">
      <!-- many items -->
      <div class="cart-item">
        <img src="https://source.unsplash.com/80x80/?book" alt="Book">
        <div class="item-info">
          <p class="item-title">Learn Python</p>
          <p class="item-qty">Qty: 1</p>
          <p class="item-price">₵60.00</p>
        </div>
        <button class="remove-item">×</button>
      </div>
      <!-- … repeat for all current cart items … -->
    </div>
    <div class="cart-summary">
      <p>Subtotal: ₵1,245.00</p>
      <button class="btn-checkout">Proceed to Checkout</button>
    </div>
  </aside>

  <!-- PRODUCT DETAIL VIEW (hidden by default) -->
  <section id="product-detail" class="container" style="display:none;">
    <button id="detail-back" class="btn">&larr; Back to results</button>
    <div class="detail-layout">
      <!-- Gallery -->
      <div class="detail-gallery">
        <img id="detail-main-image" src="" alt="">
        <div id="detail-thumbnails" class="thumbnails">
          <!-- small imgs -->
        </div>
      </div>
      <!-- Info -->
      <div class="detail-info">
        <h1 id="detail-title">Product Title</h1>
        <p>By <a href="#" id="detail-seller">Seller Name</a></p>
        <div id="detail-rating">★★★★★ <span id="detail-review-count">(0)</span></div>
        <p class="detail-price">₵<span id="detail-price">0.00</span></p>
        <p><strong>Availability:</strong> <span id="detail-stock">In stock</span></p>
        <p><strong>Shipping:</strong> <span id="detail-shipping">2–4 days</span></p>
        <ul id="detail-features" class="features-list">
          <!-- <li>Feature A</li> … -->
        </ul>
        <button id="detail-add-cart" class="btn">Add to Cart</button>
      </div>
    </div>
    <!-- Description & Reviews -->
    <div class="detail-extra">
      <section class="description">
        <h2>Description</h2>
        <p id="detail-description">Full product description…</p>
      </section>
      <section class="reviews">
        <h2>Customer Reviews</h2>
        <div id="detail-reviews-list">
          <!-- <article class="review">…</article> -->
        </div>
      </section>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="site-footer">
    <div class="footer-links container">
      <div>
        <h4>Get to Know Us</h4>
        <a href="#">About</a>
        <a href="#">Careers</a>
      </div>
      <div>
        <h4>Make Money with Us</h4>
        <a href="#">Sell on Marketplace</a>
        <a href="#">Advertise Your Products</a>
      </div>
      <div>
        <h4>Let Us Help You</h4>
        <a href="#">Your Account</a>
        <a href="#">Returns Center</a>
      </div>
    </div>
    <div class="footer-bottom container">
      <p>© 2025 MyMarketplace. All rights reserved.</p>
    </div>
  </footer>
</body>

  <script>
// ================================
// MyMarketplace Frontend Logic
// ================================

// ---------- Global Data ----------
const products = [];
const categories = ['Books','Electronics','Fashion','Home & Kitchen','Beauty','Services'];
const cart = [];

// Generate 2000 products with realistic Unsplash images
for (let i = 1; i <= 2000; i++) {
  const category = categories[i % categories.length];
  const title = `${category} Item ${i}`;
  const price = (Math.random() * 300 + 10).toFixed(2);
  const rating = Math.floor(Math.random() * 5) + 1;
  const reviewCount = Math.floor(Math.random() * 200);
  const gallery = Array.from({length:4}, (_,k) =>
    `https://source.unsplash.com/400x400/?${category.toLowerCase()},sig=${i*10+k}`
  );
  const reviews = Array.from({length: Math.floor(Math.random()*5)}, (_,r)=>({
    author: `User${r+1}`,
    date: new Date(2025,7,Math.ceil(Math.random()*28)).toDateString(),
    rating: Math.floor(Math.random()*5)+1,
    text: `Review ${r+1} for product ${i}`
  }));
  products.push({ id:i, title, category, price, rating, reviewCount, gallery, reviews, stock: Math.floor(Math.random()*50)+1, shipping:`${1+Math.floor(Math.random()*3)}–${3+Math.floor(Math.random()*3)} days` });
}

// ---------- DOM References ----------
const slideEls        = document.querySelectorAll('#hero-slider .slide');
const prevBtn         = document.querySelector('.slider-prev');
const nextBtn         = document.querySelector('.slider-next');
const categoryNav     = document.querySelectorAll('#category-nav ul li a');
const featuredGrid    = document.querySelector('#featured-products .products-grid');
const loadMoreBtn     = document.querySelector('.btn-load-more');
const searchInput     = document.getElementById('search-input');
const searchBtn       = document.getElementById('search-btn');
const searchCategory  = document.getElementById('search-category');
const resultsMain     = document.getElementById('search-results');
const paginationEl    = document.getElementById('pagination');
const cartCountEl     = document.getElementById('cart-count');
const cartPreviewEl   = document.querySelector('#cart-preview .cart-items');
const cartSubtotalEl  = document.querySelector('#cart-preview .cart-summary p');
const cartCheckoutBtn = document.querySelector('.btn-checkout');
const detailSection   = document.getElementById('product-detail');
const backToResults   = document.getElementById('detail-back');

// ---------- Hero Slider ----------
let currentSlide = 0;
function showSlide(idx) {
  slideEls[currentSlide].classList.remove('active');
  currentSlide = (idx + slideEls.length) % slideEls.length;
  slideEls[currentSlide].classList.add('active');
}
prevBtn.onclick = ()=> showSlide(currentSlide - 1);
nextBtn.onclick = ()=> showSlide(currentSlide + 1);
setInterval(()=> showSlide(currentSlide + 1), 5000);

// ---------- Render Categories ----------
categoryNav.forEach(link=>{
  link.onclick = e=>{
    e.preventDefault();
    const cat = link.textContent.trim();
    renderSearchResults(products.filter(p=>p.category===cat),1);
  };
});

// ---------- Featured Products ----------
let featuredPage = 0;
const FEATURED_PER_PAGE = 8;
function renderFeatured() {
  const start = featuredPage * FEATURED_PER_PAGE;
  const chunk = products.slice(start, start + FEATURED_PER_PAGE);
  chunk.forEach(p=>{
    const art = document.createElement('article');
    art.className='product-card'; art.dataset.id=p.id;
    art.innerHTML=`
      <img src="${p.gallery[0]}" alt="${p.title}">
      <h3><a href="#">${p.title}</a></h3>
      <p class="product-price">₵${p.price}</p>
      <p class="product-rating">${'★'.repeat(p.rating)}${'☆'.repeat(5-p.rating)} (${p.reviewCount})</p>
    `;
    featuredGrid.appendChild(art);
  });
}
loadMoreBtn.onclick = ()=>{
  featuredPage++;
  renderFeatured();
};

// ---------- Search & Pagination ----------
const RESULTS_PER_PAGE = 12;
let currentResults = [], currentPage=1;
function renderSearchResults(list, page) {
  currentResults = list;
  currentPage = page;
  resultsMain.innerHTML = '';
  const start = (page-1)*RESULTS_PER_PAGE;
  const chunk = list.slice(start, start+RESULTS_PER_PAGE);
  chunk.forEach(p=>{
    const art = document.createElement('article');
    art.className='product-card'; art.dataset.id=p.id;
    art.innerHTML=`
      <img src="${p.gallery[0]}" alt="${p.title}">
      <h3><a href="#">${p.title}</a></h3>
      <p class="product-price">₵${p.price}</p>
      <p class="product-rating">${'★'.repeat(p.rating)}${'☆'.repeat(5-p.rating)} (${p.reviewCount})</p>
    `;
    resultsMain.appendChild(art);
  });
  renderPagination(list.length, page);
}
function renderPagination(total, page) {
  paginationEl.innerHTML='';
  const pages = Math.ceil(total/RESULTS_PER_PAGE);
  const prev = document.createElement('button'); prev.className='page-btn'; prev.textContent='« Prev';
  prev.disabled=page===1; prev.onclick=()=>renderSearchResults(currentResults, page-1);
  paginationEl.appendChild(prev);
  for (let i=1;i<=pages;i++){
    const btn=document.createElement('button');
    btn.className='page-btn'+(i===page?' active':''); btn.textContent=i;
    btn.onclick=()=>renderSearchResults(currentResults,i);
    paginationEl.appendChild(btn);
  }
  const next=document.createElement('button'); next.className='page-btn'; next.textContent='Next »';
  next.disabled=page===pages; next.onclick=()=>renderSearchResults(currentResults,page+1);
  paginationEl.appendChild(next);
}
searchBtn.onclick = ()=> {
  const term=searchInput.value.toLowerCase();
  const cat=searchCategory.value;
  const filtered=products.filter(p=>{
    return (cat==='all'||p.category===cat)
        && p.title.toLowerCase().includes(term);
  });
  renderSearchResults(filtered,1);
};

// ---------- Cart Preview ----------
function updateCartUI() {
  cartCountEl.textContent = cart.length;
  cartPreviewEl.innerHTML = '';
  let subtotal = 0;
  cart.forEach((p,i)=>{
    subtotal += parseFloat(p.price);
    const d = document.createElement('div'); d.className='cart-item';
    d.innerHTML=`
      <img src="${p.gallery[0]}" alt="${p.title}">
      <div class="item-info">
        <p class="item-title">${p.title}</p>
        <p class="item-qty">Qty: 1</p>
        <p class="item-price">₵${p.price}</p>
      </div>
      <button class="remove-item" data-idx="${i}">×</button>
    `;
    cartPreviewEl.appendChild(d);
  });
  cartSubtotalEl.textContent = `Subtotal: ₵${subtotal.toFixed(2)}`;
}
document.body.addEventListener('click', e=>{
  if (e.target.matches('.add-to-cart')) {
    const id=+e.target.closest('.product-card').dataset.id;
    const p=products.find(x=>x.id===id);
    cart.push(p); updateCartUI();
  }
  if (e.target.matches('.remove-item')) {
    cart.splice(+e.target.dataset.idx,1); updateCartUI();
  }
});
cartCheckoutBtn.onclick = ()=> {
  alert(`Checked out ${cart.length} items. Thank you!`);
  cart.length=0; updateCartUI();
};

// ---------- Product Detail View ----------
function showDetail(id) {
  const p = products.find(x=>x.id===id);
  if (!p) return;
  document.getElementById('catalog')?.classList.add('hidden');
  document.getElementById('search-results')?.classList.add('hidden');
  detailSection.style.display='block';
  document.getElementById('detail-main-image').src=p.gallery[0];
  const thumbs=document.getElementById('detail-thumbnails'); thumbs.innerHTML='';
  p.gallery.forEach(src=>{
    const img=document.createElement('img'); img.src=src; img.className='thumb';
    img.onclick=()=>document.getElementById('detail-main-image').src=src;
    thumbs.appendChild(img);
  });
  document.getElementById('detail-title').textContent=p.title;
  document.getElementById('detail-seller').textContent='MyMarketplace Seller';
  document.getElementById('detail-rating').innerHTML=
    `${'★'.repeat(p.rating)}${'☆'.repeat(5-p.rating)} <span>(${p.reviewCount})</span>`;
  document.getElementById('detail-price').textContent=p.price;
  document.getElementById('detail-stock').textContent=p.stock;
  document.getElementById('detail-shipping').textContent=p.shipping;
  const feats=document.getElementById('detail-features'); feats.innerHTML='';
  ['High quality','Best seller','Limited stock'].forEach(f=>{
    const li=document.createElement('li'); li.textContent=f; feats.appendChild(li);
  });
}
backToResults.onclick = ()=>{
  detailSection.style.display='none';
  document.getElementById('search-results')?.classList.remove('hidden');
};

// Wire clicks on product cards for detail
document.body.addEventListener('click', e=>{
  if (e.target.closest('.product-card')) {
    const id=+e.target.closest('.product-card').dataset.id;
    showDetail(id);
  }
});

// ---------- Initialize ----------
renderFeatured();
updateCartUI();

  </script>

</html>
